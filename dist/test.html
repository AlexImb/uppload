<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Uppload</title>
		<style>
			body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; margin: 5rem; }
			fieldset { padding: 1rem } fieldset div + div { margin-top: 1rem }
			label { display: block } label div + input { margin-top: 0.5rem }label input + div { margin-top: 0.5rem; color: #999; font-size: 90% }
			input { width: 100%; font: inherit; padding: 0.5rem; box-sizing: border-box; border: 1px solid #ccc; border-radius: 0.25rem }
			button { background-color: #666; color: #fff; font: inherit; border: none; padding: 0.5rem 0.75rem; border-radius: 0.25rem }
		</style>
	</head>
	<body>
		<form style="max-width: 500px">
			<fieldset>
				<legend>Profile Settings</legend>
				<div>
					<label>
						<div>Name</div>
						<input type="text" value="John Doe">
					</label>
				</div>
				<div>
					<label>
						<div>Email</div>
						<input type="email" value="john.doe@example.com">
					</label>
				</div>
				<div>
					<label>
						<div>Profile Picture</div>
						<input id="profilePicInput" type="text">
						<div>This field will contain the URL of the image from Uppload</div>
					</label>
					<div style="float: left; margin-top: 1rem">
						<img id="profilePicImage" alt="Profile picture" style="width: 150px; height: 150px">
					</div>
					<div style="margin-left: 1rem; float: left">
						<button id="upploadBtn" type="button">Change profile picture</button>
					</div>
					<div style="clear: both"></div>
				</div>
				<div>
					<button>Save profile</button>
				</div>
			</fieldset>
		</form>
		<script src="./uppload.min.js"></script>
		<script>
			(() => {
				const profilePicture = new Uppload({
					value: "https://randomuser.me/api/portraits/men/17.jpg",
					bind: ["#profilePicInput", "#profilePicImage"],
					call: ["#upploadBtn"],
					maxFileSize: 10000000,
					minimumDelay: 2000,
					uploadFunction: file => {
						return new Promise((resolve, reject) => {
							let url = "https://randomuser.me/api/portraits/men/18.jpg";
							resolve(url);
						});
					}
				});
				// profilePicture.openModal();
				// const xyz = new Uppload({
				// 	uploadFunction: file => {
				// 		return new Promise((resolve, reject) => {
				// 			let url = "https://randomuser.me/api/portraits/men/18.jpg";
				// 			resolve(url);
				// 		});
				// 	}
				// });
				// xyz.openModal();
			})();
		</script>
	</body>
</html>