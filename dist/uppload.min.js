!(function(e, t) {
	"object" == typeof exports && "object" == typeof module
		? (module.exports = t())
		: "function" == typeof define && define.amd
			? define([], t)
			: "object" == typeof exports
				? (exports.uppload = t())
				: (e.uppload = t());
})(this, function() {
	return (function(e) {
		var t = {};
		function n(o) {
			if (t[o]) return t[o].exports;
			var a = (t[o] = { i: o, l: !1, exports: {} });
			return e[o].call(a.exports, a, a.exports, n), (a.l = !0), a.exports;
		}
		return (
			(n.m = e),
			(n.c = t),
			(n.d = function(e, t, o) {
				n.o(e, t) || Object.defineProperty(e, t, { configurable: !1, enumerable: !0, get: o });
			}),
			(n.r = function(e) {
				Object.defineProperty(e, "__esModule", { value: !0 });
			}),
			(n.n = function(e) {
				var t =
					e && e.__esModule
						? function() {
								return e.default;
						  }
						: function() {
								return e;
						  };
				return n.d(t, "a", t), t;
			}),
			(n.o = function(e, t) {
				return Object.prototype.hasOwnProperty.call(e, t);
			}),
			(n.p = ""),
			n((n.s = 9))
		);
	})([
		function(e, t, n) {
			"use strict";
			Object.defineProperty(t, "__esModule", { value: !0 });
			var o = {},
				a = void 0;
			t.addGlobalEvent = function(e, t, n) {
				a || (a = n), (o[a.meta.uniqueId] = o[a.meta.uniqueId] || {}), (o[a.meta.uniqueId][e] = t);
			};
			t.default = function(e, t) {
				"function" == typeof o[a.meta.uniqueId][e] && o[a.meta.uniqueId][e](t);
			};
		},
		function(e, t) {
			e.exports = function(e) {
				var t = "undefined" != typeof window && window.location;
				if (!t) throw new Error("fixUrls requires window.location");
				if (!e || "string" != typeof e) return e;
				var n = t.protocol + "//" + t.host,
					o = n + t.pathname.replace(/\/[^\/]*$/, "/");
				return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(e, t) {
					var a,
						i = t
							.trim()
							.replace(/^"(.*)"$/, function(e, t) {
								return t;
							})
							.replace(/^'(.*)'$/, function(e, t) {
								return t;
							});
					return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)
						? e
						: ((a = 0 === i.indexOf("//") ? i : 0 === i.indexOf("/") ? n + i : o + i.replace(/^\.\//, "")),
						  "url(" + JSON.stringify(a) + ")");
				});
			};
		},
		function(e, t, n) {
			var o,
				a,
				i = {},
				r = ((o = function() {
					return window && document && document.all && !window.atob;
				}),
				function() {
					return void 0 === a && (a = o.apply(this, arguments)), a;
				}),
				l = (function(e) {
					var t = {};
					return function(e) {
						if ("function" == typeof e) return e();
						if (void 0 === t[e]) {
							var n = function(e) {
								return document.querySelector(e);
							}.call(this, e);
							if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
								try {
									n = n.contentDocument.head;
								} catch (e) {
									n = null;
								}
							t[e] = n;
						}
						return t[e];
					};
				})(),
				s = null,
				d = 0,
				u = [],
				c = n(1);
			function p(e, t) {
				for (var n = 0; n < e.length; n++) {
					var o = e[n],
						a = i[o.id];
					if (a) {
						a.refs++;
						for (var r = 0; r < a.parts.length; r++) a.parts[r](o.parts[r]);
						for (; r < o.parts.length; r++) a.parts.push(b(o.parts[r], t));
					} else {
						var l = [];
						for (r = 0; r < o.parts.length; r++) l.push(b(o.parts[r], t));
						i[o.id] = { id: o.id, refs: 1, parts: l };
					}
				}
			}
			function f(e, t) {
				for (var n = [], o = {}, a = 0; a < e.length; a++) {
					var i = e[a],
						r = t.base ? i[0] + t.base : i[0],
						l = { css: i[1], media: i[2], sourceMap: i[3] };
					o[r] ? o[r].parts.push(l) : n.push((o[r] = { id: r, parts: [l] }));
				}
				return n;
			}
			function m(e, t) {
				var n = l(e.insertInto);
				if (!n)
					throw new Error(
						"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid."
					);
				var o = u[u.length - 1];
				if ("top" === e.insertAt)
					o ? (o.nextSibling ? n.insertBefore(t, o.nextSibling) : n.appendChild(t)) : n.insertBefore(t, n.firstChild), u.push(t);
				else if ("bottom" === e.insertAt) n.appendChild(t);
				else {
					if ("object" != typeof e.insertAt || !e.insertAt.before)
						throw new Error(
							"[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n"
						);
					var a = l(e.insertInto + " " + e.insertAt.before);
					n.insertBefore(t, a);
				}
			}
			function h(e) {
				if (null === e.parentNode) return !1;
				e.parentNode.removeChild(e);
				var t = u.indexOf(e);
				t >= 0 && u.splice(t, 1);
			}
			function g(e) {
				var t = document.createElement("style");
				return (e.attrs.type = "text/css"), v(t, e.attrs), m(e, t), t;
			}
			function v(e, t) {
				Object.keys(t).forEach(function(n) {
					e.setAttribute(n, t[n]);
				});
			}
			function b(e, t) {
				var n, o, a, i;
				if (t.transform && e.css) {
					if (!(i = t.transform(e.css))) return function() {};
					e.css = i;
				}
				if (t.singleton) {
					var r = d++;
					(n = s || (s = g(t))), (o = E.bind(null, n, r, !1)), (a = E.bind(null, n, r, !0));
				} else
					e.sourceMap &&
					"function" == typeof URL &&
					"function" == typeof URL.createObjectURL &&
					"function" == typeof URL.revokeObjectURL &&
					"function" == typeof Blob &&
					"function" == typeof btoa
						? ((n = (function(e) {
								var t = document.createElement("link");
								return (e.attrs.type = "text/css"), (e.attrs.rel = "stylesheet"), v(t, e.attrs), m(e, t), t;
						  })(t)),
						  (o = function(e, t, n) {
								var o = n.css,
									a = n.sourceMap,
									i = void 0 === t.convertToAbsoluteUrls && a;
								(t.convertToAbsoluteUrls || i) && (o = c(o));
								a &&
									(o +=
										"\n/*# sourceMappingURL=data:application/json;base64," +
										btoa(unescape(encodeURIComponent(JSON.stringify(a)))) +
										" */");
								var r = new Blob([o], { type: "text/css" }),
									l = e.href;
								(e.href = URL.createObjectURL(r)), l && URL.revokeObjectURL(l);
						  }.bind(null, n, t)),
						  (a = function() {
								h(n), n.href && URL.revokeObjectURL(n.href);
						  }))
						: ((n = g(t)),
						  (o = function(e, t) {
								var n = t.css,
									o = t.media;
								o && e.setAttribute("media", o);
								if (e.styleSheet) e.styleSheet.cssText = n;
								else {
									for (; e.firstChild; ) e.removeChild(e.firstChild);
									e.appendChild(document.createTextNode(n));
								}
						  }.bind(null, n)),
						  (a = function() {
								h(n);
						  }));
				return (
					o(e),
					function(t) {
						if (t) {
							if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
							o((e = t));
						} else a();
					}
				);
			}
			e.exports = function(e, t) {
				if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
					throw new Error("The style-loader cannot be used in a non-browser environment");
				((t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {}),
					t.singleton || "boolean" == typeof t.singleton || (t.singleton = r()),
					t.insertInto || (t.insertInto = "head"),
					t.insertAt || (t.insertAt = "bottom");
				var n = f(e, t);
				return (
					p(n, t),
					function(e) {
						for (var o = [], a = 0; a < n.length; a++) {
							var r = n[a];
							(l = i[r.id]).refs--, o.push(l);
						}
						e && p(f(e, t), t);
						for (a = 0; a < o.length; a++) {
							var l;
							if (0 === (l = o[a]).refs) {
								for (var s = 0; s < l.parts.length; s++) l.parts[s]();
								delete i[l.id];
							}
						}
					}
				);
			};
			var y,
				w = ((y = []),
				function(e, t) {
					return (y[e] = t), y.filter(Boolean).join("\n");
				});
			function E(e, t, n, o) {
				var a = n ? "" : o.css;
				if (e.styleSheet) e.styleSheet.cssText = w(t, a);
				else {
					var i = document.createTextNode(a),
						r = e.childNodes;
					r[t] && e.removeChild(r[t]), r.length ? e.insertBefore(i, r[t]) : e.appendChild(i);
				}
			}
		},
		function(e, t) {
			e.exports = function(e) {
				var t = [];
				return (
					(t.toString = function() {
						return this.map(function(t) {
							var n = (function(e, t) {
								var n = e[1] || "",
									o = e[3];
								if (!o) return n;
								if (t && "function" == typeof btoa) {
									var a = ((r = o),
										"/*# sourceMappingURL=data:application/json;charset=utf-8;base64," +
											btoa(unescape(encodeURIComponent(JSON.stringify(r)))) +
											" */"),
										i = o.sources.map(function(e) {
											return "/*# sourceURL=" + o.sourceRoot + e + " */";
										});
									return [n]
										.concat(i)
										.concat([a])
										.join("\n");
								}
								var r;
								return [n].join("\n");
							})(t, e);
							return t[2] ? "@media " + t[2] + "{" + n + "}" : n;
						}).join("");
					}),
					(t.i = function(e, n) {
						"string" == typeof e && (e = [[null, e, ""]]);
						for (var o = {}, a = 0; a < this.length; a++) {
							var i = this[a][0];
							"number" == typeof i && (o[i] = !0);
						}
						for (a = 0; a < e.length; a++) {
							var r = e[a];
							("number" == typeof r[0] && o[r[0]]) ||
								(n && !r[2] ? (r[2] = n) : n && (r[2] = "(" + r[2] + ") and (" + n + ")"), t.push(r));
						}
					}),
					t
				);
			};
		},
		function(e, t, n) {
			(e.exports = n(3)(!1)).push([
				e.i,
				'.uppload-bg {\n  position: fixed;\n  z-index: 10000;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5); }\n\n.uppload-modal {\n  position: fixed;\n  background: #fff;\n  z-index: 11000;\n  box-sizing: border-box;\n  overflow: hidden;\n  border-radius: 0.25rem; }\n\n.uppload-modal, .uppload-bg {\n  display: none;\n  opacity: 0; }\n  .uppload-modal.visible, .uppload-bg.visible {\n    opacity: 1;\n    display: block; }\n  .uppload-modal.fadeIn, .uppload-bg.fadeIn {\n    animation: fadeIn 0.4s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; }\n  .uppload-modal.fadeOut, .uppload-bg.fadeOut {\n    animation: fadeOut 0.4s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards; }\n  .uppload-modal.hidden, .uppload-bg.hidden {\n    display: none; }\n\n@keyframes fadeOut {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n.uppload-bg::after {\n  z-index: 1;\n  cursor: pointer;\n  content: "\\D7";\n  font-family: sans-serif;\n  position: fixed;\n  font-size: 32px;\n  line-height: 0.5;\n  right: 2vw;\n  top: 2vw;\n  color: rgba(255, 255, 255, 0.5); }\n\n@media (min-width: 860px) {\n  .uppload-modal {\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 720px;\n    height: 500px; } }\n\n@media (max-width: 860px) {\n  .uppload-modal {\n    left: 0;\n    right: 0;\n    top: 10vh;\n    bottom: 0; } }\n\n.uppload-modal aside {\n  background-color: whitesmoke;\n  border-right: 1px solid rgba(0, 0, 0, 0.075);\n  transition: 1s; }\n  .uppload-modal aside.hidden {\n    opacity: 0.333; }\n  .uppload-modal aside nav ul {\n    margin: 0;\n    padding: 0;\n    list-style: none; }\n    .uppload-modal aside nav ul li svg {\n      margin-right: 0.5rem;\n      opacity: 0.5;\n      transition: 0.3s; }\n    .uppload-modal aside nav ul li button {\n      text-align: left;\n      transition: 0.3s;\n      font: inherit;\n      background: none;\n      appearance: none;\n      border: none;\n      padding: 1rem;\n      border-radius: 0;\n      color: inherit; }\n      .uppload-modal aside nav ul li button:focus {\n        outline: none;\n        background-color: rgba(0, 0, 0, 0.075); }\n        .uppload-modal aside nav ul li button:focus svg {\n          opacity: 1; }\n    .uppload-modal aside nav ul li.active button {\n      background-color: rgba(0, 0, 0, 0.075); }\n      .uppload-modal aside nav ul li.active button svg {\n        opacity: 1; }\n\n@media (min-width: 860px) {\n  .uppload-modal aside {\n    width: 200px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    overflow-y: auto;\n    padding-bottom: 2rem; }\n    .uppload-modal aside nav li button {\n      display: block;\n      width: 100%;\n      border-bottom: 1px solid rgba(0, 0, 0, 0.075); }\n      .uppload-modal aside nav li button:hover {\n        background-color: rgba(0, 0, 0, 0.05); }\n  .uppload-modal section {\n    position: absolute;\n    right: 0;\n    left: 200px;\n    top: 0;\n    bottom: 0;\n    overflow-y: auto; } }\n\n.uppload-branding {\n  font-size: 80%;\n  color: rgba(0, 0, 0, 0.3);\n  text-decoration: none;\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem; }\n  .uppload-branding:hover {\n    color: rgba(0, 0, 0, 0.5); }\n\n@media (max-width: 860px) {\n  .uppload-modal aside nav ul {\n    white-space: nowrap;\n    overflow-x: auto; }\n  .uppload-modal aside nav li {\n    display: inline-block; } }\n\n.uppload-modal #instagramButton {\n  background-color: #d62976; }\n\n.uppload-modal #dragDropElement {\n  border: 2px dashed #aaa;\n  padding: 5rem 0;\n  transition: 0.5s; }\n  .uppload-modal #dragDropElement.active {\n    transform: scale(1.05);\n    background-color: whitesmoke; }\n\n.uppload-modal #dragDropFileElt {\n  display: none !important; }\n\n.uppload-modal .center-middle {\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 5rem;\n  right: 5rem; }\n\n.uppload-modal .primary-button {\n  background-color: #00a8ff;\n  color: #fff;\n  border: none;\n  transition: 0.3s;\n  font: inherit;\n  font-size: 115%;\n  padding: 0.75rem 1.25rem;\n  border-radius: 0.25rem; }\n  .uppload-modal .primary-button:hover {\n    background-color: #0097e6; }\n\n.uppload-modal .uppload-modal p {\n  margin-top: 0;\n  margin-bottom: 1rem; }\n  .uppload-modal .uppload-modal p:last-child {\n    margin-bottom: 0; }\n\n.uppload-modal .mb-full {\n  margin-bottom: 1.5rem !important; }\n\n.uppload-modal .loading-spinner, .uppload-modal .uploaded-icon {\n  color: #aaa;\n  font-size: 300%;\n  margin-bottom: 1.5rem; }\n\n.uppload-modal .uploaded-icon {\n  background-color: #2ed573;\n  color: #fff;\n  padding: 1rem;\n  border-radius: 100%; }\n\n.uppload-modal .errorMessage {\n  color: rgba(255, 255, 255, 0.9);\n  background-color: #ff4757;\n  padding: 1rem;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  opacity: 0;\n  transition: 0.5s; }\n  .uppload-modal .errorMessage.visible {\n    opacity: 1; }\n\n.uppload-modal label {\n  font-size: 110%;\n  margin-bottom: 1.5rem; }\n  .uppload-modal label div {\n    margin-bottom: 1rem; }\n\n@media (max-width: 860px) {\n  .uppload-modal .errorMessage {\n    top: auto;\n    bottom: 0; }\n  .uppload-modal .center-middle {\n    left: 1.5rem;\n    right: 1.5rem; } }\n',
				""
			]);
		},
		function(e, t, n) {
			var o = n(4);
			"string" == typeof o && (o = [[e.i, o, ""]]);
			var a = { hmr: !0, transform: void 0, insertInto: void 0 };
			n(2)(o, a);
			o.locals && (e.exports = o.locals);
		},
		function(e, t, n) {
			"use strict";
			Object.defineProperty(t, "__esModule", { value: !0 });
			var o,
				a = n(0),
				i = (o = a) && o.__esModule ? o : { default: o };
			(t.default = function(e, t) {
				var n = function() {
						t.changePage("instagram");
						var e = "Unable to fetch this image from Instagram";
						t.showError(e), (0, i.default)("uploadError", e), (t.isUploading = !1);
					},
					o = document.querySelector("#uppload_" + t.meta.uniqueId + " #instagramButton"),
					a = document.querySelector("#uppload_" + t.meta.uniqueId + " #instagramInput");
				o.addEventListener("click", function(e) {
					t.changePage("uploading"),
						(t.isUploading = !0),
						(0, i.default)("uploadStarted"),
						setTimeout(function() {
							fetch("https://api.microlink.io/?url=" + a.value)
								.then(function(e) {
									return e.json();
								})
								.then(function(e) {
									"success" === e.status && e.data && e.data.image && e.data.image.url
										? ((0, i.default)("fileUploaded", e.data.image.url),
										  t.changePage("uploaded"),
										  (t.isUploading = !1),
										  t.updateValue(e.data.image.url))
										: n();
								})
								.catch(function(e) {
									n();
								});
						}, t.settings.minimumDelay || 0);
				}),
					a.addEventListener("keyup", function(e) {
						e.preventDefault(), 13 === e.keyCode && o.click();
					});
			}),
				(e.exports = t.default);
		},
		function(e, t, n) {
			"use strict";
			Object.defineProperty(t, "__esModule", { value: !0 });
			var o,
				a = n(0),
				i = (o = a) && o.__esModule ? o : { default: o };
			(t.default = function(e, t) {
				var n = function() {
						e().catch(function() {});
					},
					o = document.querySelector("#uppload_" + t.meta.uniqueId + " #dragDropElement"),
					a = document.querySelector("#uppload_" + t.meta.uniqueId + " #dragDropFileElt");
				o.addEventListener("drop", function(e) {
					e.dataTransfer.items
						? "file" === e.dataTransfer.items[0].kind &&
						  ((t.meta.file = e.dataTransfer.items[0].getAsFile()),
						  n(),
						  (0, i.default)("fileDropped", t.meta.file),
						  (0, i.default)("fileSelected", t.meta.file))
						: ((t.meta.file = e.dataTransfer.files[0]),
						  n(),
						  (0, i.default)("fileDropped", t.meta.file),
						  (0, i.default)("fileSelected", t.meta.file)),
						e.preventDefault();
				}),
					o.addEventListener("dragenter", function(e) {
						o.classList.add("active"), (0, i.default)("dragEnter"), e.preventDefault();
					}),
					o.addEventListener("dragleave", function(e) {
						o.classList.remove("active"), (0, i.default)("dragLeave"), e.preventDefault();
					}),
					o.addEventListener("dragover", function(e) {
						(0, i.default)("dragOver"), e.preventDefault();
					}),
					o.addEventListener("click", function(e) {
						a.click(), e.preventDefault();
					}),
					document.querySelector("#uppload_" + t.meta.uniqueId + " #selectFileBtn").addEventListener("click", function(e) {
						a.click(), e.preventDefault();
					}),
					a.addEventListener("change", function(e) {
						(t.meta.file = a.files[0]), n(), (0, i.default)("fileSelected", t.meta.file);
					});
			}),
				(e.exports = t.default);
		},
		function(e, t, n) {
			"use strict";
			Object.defineProperty(t, "__esModule", { value: !0 });
			var o = i(n(7)),
				a = i(n(6));
			function i(e) {
				return e && e.__esModule ? e : { default: e };
			}
			(t.default = function(e, t, n) {
				for (
					var i = {
							uploading: {
								html:
									'\n                <div class="center-middle">\n                    <div><i class="fas fa-spinner fa-spin loading-spinner"></i></div>\n                    <div>Uploading...</div>\n                </div>\n            '
							},
							uploaded: {
								html:
									'\n                <div class="center-middle">\n                    <div><i class="fas fa-check uploaded-icon"></i></div>\n                    <div>Uploaded</div>\n                </div>\n            '
							},
							upload: {
								title: "Upload file",
								icon: '<i class="fas fa-fw fa-upload"></i>',
								html:
									'\n                <div class="center-middle">\n                    <div id="dragDropElement" class="mb-full">Drag and drop here to upload</div>\n                    <p class="mb-full"><em>or</em></p>\n                    <button id="selectFileBtn" class="primary-button">Choose a file</button>\n                    <input type="file" id="dragDropFileElt">\n                </div>\n            ',
								init: function() {
									(0, o.default)(e, n);
								}
							},
							camera: { icon: '<i class="fas fa-fw fa-camera"></i>', title: "Camera", html: "" },
							link: { icon: '<i class="fas fa-fw fa-link"></i>', title: "Import from URL", html: "" },
							facebook: { icon: '<i class="fab fa-fw fa-facebook"></i>', title: "Facebook", html: "" },
							drive: { icon: '<i class="fab fa-fw fa-google-drive"></i>', title: "Google Drive", html: "" },
							dropbox: { icon: '<i class="fab fa-fw fa-dropbox"></i>', title: "Dropbox", html: "" },
							instagram: {
								icon: '<i class="fab fa-fw fa-instagram"></i>',
								title: "Instagram",
								html:
									'\n                <div class="center-middle">\n                    <label>\n                        <div>Instagram post URL</div>\n                        <input id="instagramInput" type="text" value="https://www.instagram.com/p/BeV6tOhFUor" placeholder="https://www.instagram.com/p/BeV6tOhFUor">\n                    </label>\n                    <button id="instagramButton" class="primary-button">Import from Instagram</button>\n                </div>\n            ',
								init: function() {
									(0, a.default)(e, n);
								}
							}
						},
						r = "",
						l = 0;
					l < t.length;
					l++
				) {
					var s = i[t[l]];
					s &&
						(r +=
							'\n                <li class="button_service button_service_' +
							t[l] +
							'"><button>' +
							(s.icon || "") +
							s.title +
							"</button></li>\n            ");
				}
				return (
					(i.navbar = {
						html:
							"\n            <aside>\n                <nav>\n                    <ul>\n                        " +
							r +
							'\n                    </ul>\n                </nav>\n                <a class="uppload-branding" href="https://github.com/elninotech/uppload" target="_blank" rel="noopener noreferrer">Get Uppload</a>\n            </aside>\n        '
					}),
					i
				);
			}),
				(e.exports = t.default);
		},
		function(e, t, n) {
			"use strict";
			Object.defineProperty(t, "__esModule", { value: !0 });
			var o =
					"function" == typeof Symbol && "symbol" == typeof Symbol.iterator
						? function(e) {
								return typeof e;
						  }
						: function(e) {
								return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype
									? "symbol"
									: typeof e;
						  },
				a = (function() {
					function e(e, t) {
						for (var n = 0; n < t.length; n++) {
							var o = t[n];
							(o.enumerable = o.enumerable || !1),
								(o.configurable = !0),
								"value" in o && (o.writable = !0),
								Object.defineProperty(e, o.key, o);
						}
					}
					return function(t, n, o) {
						return n && e(t.prototype, n), o && e(t, o), t;
					};
				})(),
				i = n(0),
				r = s(i),
				l = s(n(8));
			s(n(5));
			function s(e) {
				return e && e.__esModule ? e : { default: e };
			}
			var d = function(e) {
					if (0 == e) return "0 bytes";
					var t = parseInt(Math.floor(Math.log(e) / Math.log(1024)));
					return Math.round(e / Math.pow(1024, t), 2) + " " + ["bytes", "KB", "MB", "GB", "TB"][t];
				},
				u = (function() {
					function e(t) {
						var n = this;
						!(function(e, t) {
							if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
						})(this, e),
							(this.meta = {
								uniqueId: Math.random()
									.toString(36)
									.slice(2),
								file: null
							}),
							console.log(this.meta.uniqueId),
							(this.settings = t || {}),
							(this.isOpen = !1),
							(this.isUploading = !1),
							(this.value = null),
							(this.currentPage = this.settings.defaultService || "upload"),
							(this.settings.services = this.settings.services || [
								"upload",
								"camera",
								"link",
								"facebook",
								"drive",
								"dropbox",
								"instagram"
							]),
							(this.settings.allowedTypes = this.settings.allowedTypes || "*"),
							(this.settings.maxFileSize = parseInt(this.settings.maxFileSize) || 1e8),
							(this.isFileTypeAllowed =
								this.settings.isFileTypeAllowed ||
								function() {
									var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n.meta.file;
									if ("object" === o(n.settings.allowedTypes) && n.settings.allowedTypes.length > 0) {
										if (n.settings.allowedTypes.includes(e.type)) return !0;
									} else {
										if (n.settings.allowedTypes === e.type) return !0;
										if ("*" === n.settings.allowedTypes) return !0;
										if (e.type.includes(n.settings.allowedTypes + "/")) return !0;
									}
									return !1;
								}),
							(this.isFileSizeAllowed =
								this.settings.isFileSizeAllowed ||
								function() {
									var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n.meta.file;
									return n.settings.maxFileSize > e.size;
								}),
							(this.showError = function(e) {
								(0, r.default)("fileError", e),
									(document.querySelector("#uppload_" + n.meta.uniqueId + " .errorMessage").innerHTML =
										"<strong>Error: </strong>" + e + "."),
									document.querySelector("#uppload_" + n.meta.uniqueId + " .errorMessage").classList.add("visible"),
									setTimeout(function() {
										document.querySelector("#uppload_" + n.meta.uniqueId + " .errorMessage").classList.remove("visible");
									}, n.settings.errorDelay || 3e3);
							}),
							(this.uploadFile = function() {
								var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n.meta.file;
								return new Promise(function(t, o) {
									if (!e) {
										var a = "You have not selected a file";
										return n.showError(a), void o(a);
									}
									if (!n.isFileTypeAllowed(e)) {
										var i = "This file type is not allowed";
										return n.showError(i), void o(i);
									}
									if (!n.isFileSizeAllowed(e)) {
										var l = "File should be smaller than " + d(n.settings.maxFileSize);
										return n.showError(l), void o(l);
									}
									(n.isUploading = !0),
										n.changePage("uploading"),
										(0, r.default)("uploadStarted", e),
										setTimeout(function() {
											if ("function" == typeof n.settings.uploadFunction)
												n.settings
													.uploadFunction(e)
													.then(function(e) {
														n.updateValue(e), (0, r.default)("fileUploaded", e), t(e);
													})
													.catch(function(e) {
														(0, r.default)("uploadError", e), o(e);
													})
													.finally(function() {
														(n.isUploading = !1), n.changePage("uploaded");
													});
											else if (n.settings.endpoint)
												"string" == typeof n.settings.endpoint && (n.settings.endpoint = { url: n.settings.endpoint }),
													fetch(n.settings.endpoint.url, {
														method: n.settings.endpoint.method || "POST",
														body: e,
														headers: n.settings.headers || null
													})
														.then(function(e) {
															return e.json();
														})
														.then(function(e) {
															(0, r.default)("fileUploaded", e), t(e);
														})
														.catch(function(e) {
															(0, r.default)("fileUploaded", e), o(e);
														})
														.finally(function() {
															(n.isUploading = !1), n.changePage("uploaded");
														});
											else {
												var a = "No endpoint or upload function found";
												n.showError(a), o(a);
											}
										}, n.settings.minimumDelay || 0);
								});
							}),
							(this.pages = (0, l.default)(this.uploadFile, this.settings.services, this)),
							(this.backgroundElement = document.createElement("div")),
							this.backgroundElement.classList.add("uppload-bg"),
							document.body.appendChild(this.backgroundElement),
							(this.modalElement = document.createElement("div")),
							this.modalElement.classList.add("uppload-modal"),
							this.modalElement.setAttribute("id", "uppload_" + this.meta.uniqueId),
							(this.modalElement.innerHTML =
								"\n        <div>\n            " +
								this.pages.navbar.html +
								'\n            <section>\n                <div class="errorMessage"></div>\n                <div class="currentPage"></div>\n            </section>\n        </div>\n        '),
							document.body.appendChild(this.modalElement);
						for (
							var a = document.querySelectorAll("#uppload_" + this.meta.uniqueId + " .button_service"),
								i = function(e) {
									var t = a[e];
									t.addEventListener("click", function() {
										n.changePage(t.className.replace("button_service button_service_", ""));
									});
								},
								s = 0;
							s < a.length;
							s++
						)
							i(s);
						this.backgroundElement.addEventListener("click", this.closeModal.bind(this)),
							window.addEventListener("keyup", function(e) {
								(27 !== e.keyCode && 27 !== e.which && "Escape" !== e.key && "Escape" !== e.code) || n.backgroundElement.click();
							}),
							this.settings.value && this.updateValue(this.settings.value, 1),
							(this.settings.call = this.settings.call || ["[data-uppload-button]"]);
						for (s = 0; s < this.settings.call.length; s++)
							for (var u = document.querySelectorAll(this.settings.call[s]), c = 0; c < u.length; c++)
								u[c].addEventListener("click", this.openModal.bind(this));
					}
					return (
						a(e, [
							{
								key: "on",
								value: function(e, t) {
									(0, i.addGlobalEvent)(e, t, this);
								}
							},
							{
								key: "updateValue",
								value: function(e) {
									for (
										var t = this,
											n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
											o = this.settings.bind || ["[data-uppload-value]"],
											a = 0;
										a < o.length;
										a++
									) {
										var i = document.querySelector(o[a]);
										"IMG" === i.tagName ? i.setAttribute("src", e) : i.setAttribute("value", e),
											i.classList.add("uppload-" + (0 === n ? "updated" : "initialized"));
									}
									(this.value = e),
										0 === n &&
											setTimeout(function() {
												t.closeModal();
											}, this.settings.successDelay || 1500);
								}
							},
							{
								key: "openModal",
								value: function() {
									var e = this;
									!0 !== this.isOpen &&
										(this.changePage(this.currentPage),
										(this.isOpen = !0),
										(0, r.default)("modalOpened"),
										this.modalElement.classList.add("visible"),
										this.backgroundElement.classList.add("visible"),
										this.modalElement.classList.add("fadeIn"),
										this.backgroundElement.classList.add("fadeIn"),
										setTimeout(function() {
											e.modalElement.classList.remove("fadeIn"), e.backgroundElement.classList.remove("fadeIn");
										}, 399));
								}
							},
							{
								key: "closeModal",
								value: function() {
									var e = this;
									!1 !== this.isOpen &&
										((this.isOpen = !1),
										(0, r.default)("modalClosed"),
										this.modalElement.classList.add("fadeOut"),
										this.backgroundElement.classList.add("fadeOut"),
										setTimeout(function() {
											e.modalElement.classList.remove("fadeOut"),
												e.modalElement.classList.remove("visible"),
												e.backgroundElement.classList.remove("fadeOut"),
												e.backgroundElement.classList.remove("visible");
										}, 399));
								}
							},
							{
								key: "changePage",
								value: function(e) {
									if (this.pages[e]) {
										(document.querySelector("#uppload_" + this.meta.uniqueId + " .currentPage").innerHTML = this.pages[e].html),
											"function" == typeof this.pages[e].init && this.pages[e].init(),
											(0, r.default)("pageChanged", e);
										for (
											var t = document.querySelectorAll("#uppload_" + this.meta.uniqueId + " .button_service"), n = 0;
											n < t.length;
											n++
										)
											t[n].classList.remove("active");
										var o = document.querySelector("#uppload_" + this.meta.uniqueId + " .button_service_" + e);
										o && o.classList.add("active");
										var a = document.querySelector("#uppload_" + this.meta.uniqueId + " aside");
										"uploading" === e || "uploaded" === e ? a.classList.add("hidden") : a.classList.remove("hidden");
									}
								}
							}
						]),
						e
					);
				})();
			(window.Uppload = u), (t.default = u), (e.exports = t.default);
		}
	]);
});
