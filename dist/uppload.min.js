!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.uppload=t():e.uppload=t()}(this,function(){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=17)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={},n=void 0;t.addGlobalEvent=function(e,t,a){n||(n=a),i[n.meta.uniqueId]=i[n.meta.uniqueId]||{},i[n.meta.uniqueId][e]=t};t.default=function(e,t){"function"==typeof i[n.meta.uniqueId][e]&&i[n.meta.uniqueId][e](t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([i],{type:a})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=a(0),o=(i=n)&&i.__esModule?i:{default:i};t.default=function(e,t){return e||(e=t.meta.file),new Promise(function(a,i){var n=function(e){t.showError(e),i(e)};e?t.isFileTypeAllowed(e)?t.isFileSizeAllowed(e)?(t.isUploading=!0,t.changePage("uploading"),(0,o.default)("uploadStarted",e),setTimeout(function(){if("function"==typeof t.settings.uploadFunction)t.settings.uploadFunction(e).then(function(e){t.updateValue(e),(0,o.default)("fileUploaded",e),a(e)}).catch(function(e){(0,o.default)("uploadError",e),i(e)}).finally(function(){t.isUploading=!1,t.changePage("uploaded")});else if(t.settings.endpoint)"string"==typeof t.settings.endpoint&&(t.settings.endpoint={url:t.settings.endpoint}),fetch(t.settings.endpoint.url,{method:t.settings.endpoint.method||"POST",body:e,headers:t.settings.headers||null}).then(function(e){return e.json()}).then(function(e){(0,o.default)("fileUploaded",e),a(e)}).catch(function(e){(0,o.default)("fileUploaded",e),i(e)}).finally(function(){t.isUploading=!1,t.changePage("uploaded")});else{var n=t.i18n.errors.no_endpoint;t.showError(n),i(n)}},t.settings.minimumDelay||0)):n(t.i18n.errors.file_too_large.replace(/_FILESIZE_/g,bytesToSize(t.settings.maxFileSize))):n(t.i18n.errors.file_type_not_allowed):n(t.i18n.errors.no_file_selected)})},e.exports=t.default},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,i=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?a+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(e,t,a){var i,n,o={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=i.apply(this,arguments)),n}),l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var a=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}}(),s=null,d=0,c=[],u=a(3);function f(e,t){for(var a=0;a<e.length;a++){var i=e[a],n=o[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(b(i.parts[r],t))}else{var l=[];for(r=0;r<i.parts.length;r++)l.push(b(i.parts[r],t));o[i.id]={id:i.id,refs:1,parts:l}}}}function p(e,t){for(var a=[],i={},n=0;n<e.length;n++){var o=e[n],r=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};i[r]?i[r].parts.push(l):a.push(i[r]={id:r,parts:[l]})}return a}function m(e,t){var a=l(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?a.insertBefore(t,i.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),c.push(t);else if("bottom"===e.insertAt)a.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=l(e.insertInto+" "+e.insertAt.before);a.insertBefore(t,n)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",h(t,e.attrs),m(e,t),t}function h(e,t){Object.keys(t).forEach(function(a){e.setAttribute(a,t[a])})}function b(e,t){var a,i,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=d++;a=s||(s=v(t)),i=x.bind(null,a,r,!1),n=x.bind(null,a,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",h(t,e.attrs),m(e,t),t}(t),i=function(e,t,a){var i=a.css,n=a.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(i=u(i));n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}.bind(null,a,t),n=function(){g(a),a.href&&URL.revokeObjectURL(a.href)}):(a=v(t),i=function(e,t){var a=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,a),n=function(){g(a)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=p(e,t);return f(a,t),function(e){for(var i=[],n=0;n<a.length;n++){var r=a[n];(l=o[r.id]).refs--,i.push(l)}e&&f(p(e,t),t);for(n=0;n<i.length;n++){var l;if(0===(l=i[n]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var w,y=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,a,i){var n=a?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=function(e,t){var a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var n=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[a].concat(o).concat([n]).join("\n")}var r;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(i[o]=!0)}for(n=0;n<e.length;n++){var r=e[n];"number"==typeof r[0]&&i[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),t.push(r))}},t}},function(e,t,a){(e.exports=a(5)(!1)).push([e.i,'.uppload-bg{position:fixed;z-index:10000;left:0;right:0;top:0;bottom:0;background:hsla(0,0%,59%,.3)}.uppload-modal{position:fixed;color:#333;background:#fff;z-index:11000;box-sizing:border-box;overflow:hidden;border-radius:.25rem;box-shadow:0 30px 150px rgba(0,0,0,.2)}.uppload-bg,.uppload-modal{display:none;opacity:0}.uppload-bg.visible,.uppload-modal.visible{opacity:1;display:block}.uppload-bg.fadeIn,.uppload-modal.fadeIn{animation:fadeIn .4s;animation-iteration-count:1;animation-fill-mode:forwards}.uppload-bg.fadeOut,.uppload-modal.fadeOut{animation:fadeOut .4s;animation-iteration-count:1;animation-fill-mode:forwards}.uppload-bg.hidden,.uppload-modal.hidden{display:none}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.uppload-bg:after{z-index:1;cursor:pointer;content:"\\D7";font-family:sans-serif;position:fixed;font-size:32px;line-height:.5;right:2vw;top:2vw;color:rgba(0,0,0,.5)}@media (min-width:860px){.uppload-modal{left:50%;top:50%;transform:translate(-50%,-50%);width:720px;height:500px}}@media (min-width:960px){.uppload-modal{width:800px}}@media (max-height:600px){.uppload-modal{top:10%;transform:translate(-50%);height:auto;bottom:10%}}@media (max-width:860px){.uppload-modal{left:0;right:0;top:10vh;bottom:0}.uppload-modal>div{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;flex-direction:column}.uppload-modal section{flex:1 0 0}}.uppload-modal aside{background-color:#dfe6e9;transition:1s}.uppload-modal aside.hidden{opacity:.333}.uppload-modal aside nav ul{margin:0;padding:0;list-style:none}.uppload-modal aside nav ul li svg{margin-right:.5rem;opacity:.5;transition:.3s}.uppload-modal aside nav ul li button{text-align:left;transition:.3s;font:inherit;background:none;appearance:none;border:none;padding:1rem;border-radius:0;color:inherit}.uppload-modal aside nav ul li button:focus{outline:none;background-color:rgba(0,0,0,.075)}.uppload-modal aside nav ul li button:focus svg{opacity:1}.uppload-modal aside nav ul li.active button{background-color:#fff}.uppload-modal aside nav ul li.active button svg{opacity:1}.uppload-modal section{display:flex}@media (min-width:860px){.uppload-modal aside{width:200px;position:absolute;left:0;top:0;bottom:0;overflow-y:auto;padding-bottom:2rem}.uppload-modal aside nav li button{display:block;width:100%;border-bottom:1px solid rgba(0,0,0,.075)}.uppload-modal aside nav li button:hover{background-color:rgba(0,0,0,.05)}.uppload-modal section{position:absolute;right:0;left:200px;top:0;bottom:0;overflow-y:auto}}.uppload-branding{font-size:80%;color:rgba(0,0,0,.3);text-decoration:none;position:fixed;bottom:1rem;left:1rem}.uppload-branding:hover{color:rgba(0,0,0,.5)}@media (max-width:860px){.uppload-modal aside nav ul{white-space:nowrap;overflow-x:auto}.uppload-modal aside nav li{display:inline-block}}.svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:.08em solid #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1);transform:scale(-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.uppload-modal .primary-button.instagram{background-color:#b53471}.uppload-modal .primary-button.instagram:hover{background-color:#833471}.uppload-modal .crop-container{width:100%;display:flex;flex-direction:column}.uppload-modal .crop-container #imageCropper{position:absolute;background-color:rgba(255,0,0,.25);width:300px;height:200px;left:100px;top:100px;cursor:move}.uppload-modal .crop-container .preview{flex:1 0 0;padding:1rem;display:flex;justify-content:center;flex-direction:column;overflow:auto}.uppload-modal .crop-container .preview>div>img{margin:auto}.uppload-modal .crop-container .preview .croppr-container{text-align:center;margin:auto}.uppload-modal .crop-container .bottom-buttons{text-align:center}.uppload-modal .crop-container .bottom-buttons .toolbar{background:#2c3e50}.uppload-modal .crop-container .bottom-buttons .toolbar button{background:none;color:#fff;border-radius:none;padding:1rem}.uppload-modal .crop-container .bottom-buttons .cta{padding:.5rem 0}.uppload-modal img{max-width:100%}.uppload-modal #previewImage{display:none;max-height:500px}.croppr-container *{user-select:none;box-sizing:border-box}.croppr-container img{vertical-align:middle;max-width:100%}.croppr{position:relative;display:inline-block}.croppr-overlay{background:rgba(0,0,0,.5);position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;cursor:crosshair}.croppr-region{border:1px dashed rgba(0,0,0,.5);position:absolute;z-index:3;cursor:move;top:0}.croppr-imageClipped{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;pointer-events:none}.croppr-handle{border:1px solid #000;background-color:#fff;width:10px;height:10px;position:absolute;z-index:4;top:0}.preview-container{width:100%;display:flex;flex-direction:column}.preview-container .preview{flex:1 0 0;overflow-y:auto;display:flex;justify-content:center;flex-direction:column}.preview-container .preview img{margin:0 auto}.preview-container .bottom-buttons{padding:.5rem;text-align:center}.camera-container{width:100%;display:flex;flex-direction:column}.camera-container .preview{flex:1 0 0;overflow-y:auto;display:flex;justify-content:center;flex-direction:column}.camera-container .preview video{margin:0 auto}.camera-container .bottom-buttons{padding:.5rem;text-align:center}.camera-container #cameraCanvas,.camera-container #cameraError{display:none}.camera-container #cameraError,.camera-container #cameraPermission{text-align:center;font-size:125%}.camera-container #cameraError svg,.camera-container #cameraPermission svg{margin-bottom:1rem}.camera-container #cameraError svg path,.camera-container #cameraPermission svg path{fill:#aaa}.uppload-modal #dragDropElement{border:3px dashed #ddd;padding:5rem 0;transition:.5s;font-size:125%}.uppload-modal #dragDropElement.active{transform:scale(1.05);background-color:#f5f5f5}.uppload-modal #dragDropFileElt{display:none!important}.uppload-modal .currentPage{display:flex;flex:1 0 0}.uppload-modal .center-middle{text-align:center;position:absolute;top:50%;transform:translateY(-50%);left:5rem;right:5rem}.uppload-modal .primary-button{background-color:#00a8ff;color:#fff;border:none;transition:.3s;font:inherit;font-size:115%;padding:.75rem 1.25rem;border-radius:.25rem}.uppload-modal .primary-button:hover{background-color:#0097e6}.uppload-modal .primary-button.secondary{background-color:#95a5a6}.uppload-modal .primary-button.secondary:hover{background-color:#7f8c8d}.uppload-modal .uppload-modal p{margin-top:0;margin-bottom:1rem}.uppload-modal .uppload-modal p:last-child{margin-bottom:0}.uppload-modal .mb-full{margin-bottom:1.5rem!important}.uppload-modal .loading-spinner,.uppload-modal .uploaded-icon{color:#aaa;font-size:300%;margin-bottom:1.5rem}.uppload-modal .uploaded-icon{background-color:#2ed573;color:#fff;padding:1rem;border-radius:100%}.uppload-modal .errorMessage{display:none;color:hsla(0,0%,100%,.9);background-color:#ff4757;padding:1rem;position:absolute;left:0;right:0;top:0;opacity:0;transition:.5s}.uppload-modal .errorMessage.visible{opacity:1}.uppload-modal label{font-size:110%;margin-bottom:1.5rem}.uppload-modal label div{margin-bottom:1rem}@media (max-width:860px){.uppload-modal .errorMessage{top:auto;bottom:0}.uppload-modal .center-middle{left:1.5rem;right:1.5rem}}',""])},function(e,t,a){var i=a(6);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(4)(i,n);i.locals&&(e.exports=i.locals)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={camera:'<svg class="svg-inline--fa fa-camera fa-w-16 fa-fw" aria-hidden="true" data-prefix="fas" data-icon="camera" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"></path></svg>',upload:'<svg class="svg-inline--fa fa-upload fa-w-16 fa-fw" aria-hidden="true" data-prefix="fas" data-icon="upload" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg>',import:'<svg class="svg-inline--fa fa-link fa-w-16 fa-fw" aria-hidden="true" data-prefix="fas" data-icon="link" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>',instagram:'<svg class="svg-inline--fa fa-instagram fa-w-14 fa-fw" aria-hidden="true" data-prefix="fab" data-icon="instagram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>',back:'<svg class="svg-inline--fa fa-arrow-left fa-w-14" aria-hidden="true" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg>',forward:'<svg class="svg-inline--fa fa-arrow-right fa-w-14" aria-hidden="true" data-prefix="fas" data-icon="arrow-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg>',uploading:'<svg class="svg-inline--fa fa-spinner fa-w-16 fa-spin loading-spinner" aria-hidden="true" data-prefix="fas" data-icon="spinner" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"></path></svg>',uploaded:'<svg class="svg-inline--fa fa-check fa-w-16 uploaded-icon" aria-hidden="true" data-prefix="fas" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg>',error:'<svg aria-hidden="true" data-prefix="fas" data-icon="exclamation-triangle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-exclamation-triangle fa-w-18 fa-2x"><path fill="currentColor" d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z" class=""></path></svg>'},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(0));n(a(2));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(){e.changePage(t);var a=e.i18n.errors[t+"_no_fetch"];e.showError(a),(0,i.default)("uploadError",a),e.isUploading=!1},o=document.querySelector("#uppload_"+e.meta.uniqueId+" #microLinkButton"),r=document.querySelector("#uppload_"+e.meta.uniqueId+" #microLinkInput");o.addEventListener("click",function(t){e.changePage("uploading"),e.isUploading=!0,setTimeout(function(){a?fetch("https://api.microlink.io/?url="+encodeURIComponent(r.value)).then(function(e){return e.json()}).then(function(t){"success"===t.status&&t.data&&t.data.image&&t.data.image.url?fetch((e.settings.fileFetchEndpoint||"https://images.weserv.nl/")+"?url="+encodeURIComponent(t.data.image.url.replace(/^https?\:\/\//i,""))).then(function(e){return e.blob()}).then(function(t){e.meta.file=t,(0,i.default)("fileSelected",e.meta.file),e.changePage("crop")}).catch(function(){n()}):n()}).catch(function(e){n()}):fetch((e.settings.fileFetchEndpoint||"https://images.weserv.nl/")+"?url="+encodeURIComponent(r.value.replace(/^https?\:\/\//i,""))).then(function(e){return e.blob()}).then(function(t){e.meta.file=t,(0,i.default)("fileSelected",e.meta.file),e.changePage("crop")}).catch(function(){n()})},e.settings.minimumDelay||0)}),r.addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&o.click()})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=a(0);(i=n)&&i.__esModule;t.default=function(e){var t=e.modalElement.querySelector(".camera-container .preview"),a=null,i=null,n=null,o=0,r=0;function l(){var t=!1;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia({video:!0,audio:!1},function(t){if(a.style.display="",i.style.display="",e.modalElement.querySelector("#cameraError").style.display="none",e.modalElement.querySelector("#cameraPermission").style.display="none",navigator.mozGetUserMedia)a.mozSrcObject=t;else{var n=window.URL||window.webkitURL;try{a.srcObject=t}catch(e){a.src=n.createObjectURL(t)}}a.play()},function(t){a.style.display="none",i.style.display="none",e.modalElement.querySelector("#cameraPermission").style.display="none",e.modalElement.querySelector("#cameraError").style.display="block"}),a.addEventListener("canplay",function(e){t||(r=a.videoHeight/(a.videoWidth/o),isNaN(r)&&(r=o/(4/3)),a.setAttribute("width",o),a.setAttribute("height",r),i.setAttribute("width",o),i.setAttribute("height",r),t=!0)},!1),n.addEventListener("click",function(t){!function(){var t=i.getContext("2d");if(o&&r){i.width=o,i.height=r,t.drawImage(a,0,0,o,r);var n=i.toDataURL("image/png");e.imagePreview={previous:"camera",image:n},e.changePage("preview")}}(),t.preventDefault()},!1)}a=e.modalElement.querySelector("#cameraVideo"),i=e.modalElement.querySelector("#cameraCanvas"),n=e.modalElement.querySelector("#clickButton"),setTimeout(function(){o=t.offsetWidth,l()},1)},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=a(0),o=(i=n)&&i.__esModule?i:{default:i};t.default=function(e){var t=document.querySelector("#uppload_"+e.meta.uniqueId+" #dragDropElement"),a=document.querySelector("#uppload_"+e.meta.uniqueId+" #dragDropFileElt");t.addEventListener("drop",function(t){t.dataTransfer.items?"file"===t.dataTransfer.items[0].kind&&(e.meta.file=t.dataTransfer.items[0].getAsFile(),(0,o.default)("fileDropped",e.meta.file),(0,o.default)("fileSelected",e.meta.file),e.changePage("crop")):(e.meta.file=t.dataTransfer.files[0],(0,o.default)("fileDropped",e.meta.file),(0,o.default)("fileSelected",e.meta.file),e.changePage("crop")),t.preventDefault()}),t.addEventListener("dragenter",function(e){t.classList.add("active"),(0,o.default)("dragEnter"),e.preventDefault()}),t.addEventListener("dragleave",function(e){t.classList.remove("active"),(0,o.default)("dragLeave"),e.preventDefault()}),t.addEventListener("dragover",function(e){(0,o.default)("dragOver"),e.preventDefault()}),t.addEventListener("click",function(e){a.click(),e.preventDefault()}),document.querySelector("#uppload_"+e.meta.uniqueId+" #selectFileBtn").addEventListener("click",function(e){a.click(),e.preventDefault()}),a.addEventListener("change",function(t){e.meta.file=a.files[0],(0,o.default)("fileSelected",e.meta.file),e.changePage("crop")})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=a(1),o=(i=n)&&i.__esModule?i:{default:i};t.default=function(e){var t=e.imagePreview.image,a=e.imagePreview.previous,i=e.modalElement.querySelector("#previewImage");i.setAttribute("src",t),i.addEventListener("load",function(){i.style.display="block"});var n=e.modalElement.querySelector("#backBtn");a||(n.style.display="none"),n.addEventListener("click",function(){e.changePage(a)}),e.modalElement.querySelector("#continueBtn").addEventListener("click",function(){e.meta.file=(0,o.default)(t),e.changePage("crop")})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,a){var i=document.createElement("script");i.src=e,i.addEventListener("load",function(){t()}),i.addEventListener("error",function(){t()}),(document.head||document.body).appendChild(i)})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(a(13)),n=l(a(2)),o=l(a(0)),r=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var s=!1;t.default=function(e){if(s){var t=e.meta.file;if(!["image/png","image/jpeg","image/gif","image/jpeg"].includes(t.type))return e.changePage("upload"),e.meta.file=t,void(0,n.default)(null,e).then(function(){}).catch(function(){});var a=new FileReader;a.readAsDataURL(t),a.addEventListener("load",function(t){var a=t.target.result;if(a){var i=e.modalElement.querySelector("#previewImage");i.setAttribute("src",a),i.addEventListener("load",function(){i.style.display="block";var t=new Croppr(e.modalElement.querySelector("#previewImage"),{aspectRatio:e.settings.crop.aspectRatio||null,maxSize:e.settings.crop.maxSize||null,minSize:e.settings.crop.minSize||null,onCropStart:function(e){(0,o.default)("cropStart",e)},onCropMove:function(e){(0,o.default)("cropMove",e)},onCropEnd:function(e){(0,o.default)("cropEnd",e)}});e.modalElement.querySelector("#imageCropper");e.modalElement.querySelector("#cropAndUploadBtn").addEventListener("click",function(){var a=t.getValue(),o=function(e,t,a,i,n,o){var r=document.createElement("canvas"),l=r.getContext("2d");r.width=t,r.height=a;var s=document.createElement("canvas"),d=s.getContext("2d");return s.width=e.width,s.height=e.height,d.drawImage(e,0,0),l.drawImage(s,i,n,t*o,a*o,0,0,t,a),r.toDataURL()}(i,a.width,a.height,a.x,a.y,1);e.meta.file=(0,r.default)(o),(0,n.default)(null,e).then(function(){}).catch(function(){})})})}})}else e.changePage("uploading"),(0,i.default)("https://cdn.jsdelivr.net/npm/croppr@2.3.0/dist/croppr.min.js").then(function(){s=!0,e.changePage("crop")}).catch(function(){(0,n.default)(null,e).then(function(){}).catch(function(){})})},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(a(14)),n=d(a(12)),o=d(a(11)),r=d(a(10)),l=d(a(9)),s=d(a(8));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){for(var t=e.settings.services,a=e.i18n,d={preview:{html:'\n<div class="preview-container">\n<div class="preview">\n<img id="previewImage">\n</div>\n<div class="bottom-buttons">\n<div class="cta">\n<button class="primary-button secondary" id="backBtn">'+s.default.back+" &nbsp;"+a.preview.back+'</button>\n<button class="primary-button" id="continueBtn">'+a.preview.continue+" &nbsp;"+s.default.forward+"</button>\n</div>\n</div>\n</div>\n ",init:function(){(0,n.default)(e)}},crop:{html:'\n<div class="crop-container">\n<div class="preview">\n<div>\n<img id="previewImage" draggable="false">\n</div>\n</div>\n<div class="bottom-buttons">\n<div class="cta"><button class="primary-button" id="cropAndUploadBtn">'+a.crop.upload+"</button></div>\n</div>\n</div>\n ",init:function(){(0,i.default)(e)}},uploading:{html:'\n <div class="center-middle">\n <div>'+s.default.uploading+"</div>\n <div>"+a.uploading+"</div>\n </div>\n "},uploaded:{html:'\n <div class="center-middle">\n <div>'+s.default.uploaded+"</div>\n <div>"+a.uploaded+"</div>\n </div>\n "},upload:{title:"Upload file",icon:s.default.upload,html:'\n <div class="center-middle">\n <div id="dragDropElement" class="mb-full">'+a.select_file.drag_here+'</div>\n <p class="mb-full"><em>'+a.select_file.or+'</em></p>\n <button id="selectFileBtn" class="primary-button">'+a.select_file.choose_file+'</button>\n <input type="file" id="dragDropFileElt">\n </div>\n ',init:function(){(0,o.default)(e)}},camera:{icon:""+s.default.camera,title:"Camera",html:'\n<div class="camera-container">\n<div class="preview">\n<div id="cameraPermission"><div>'+s.default.error+"</div><div>"+a.camera.permission+'</div></div>\n<div id="cameraError"><div>'+s.default.error+"</div><div>"+a.errors.camera_error+'</div></div>\n<video id="cameraVideo">'+a.errors.video_unavailable+'</video>\n<canvas id="cameraCanvas"></canvas>\n</div>\n<div class="bottom-buttons">\n<div class="cta"><button class="primary-button" id="clickButton">'+s.default.camera+" &nbsp;"+a.camera.click+"</button></div>\n</div>\n</div>\n",init:function(){(0,r.default)(e)}},link:{icon:s.default.import,title:"Import from URL",html:'\n <div class="center-middle">\n <label>\n <div>'+a.link.post_url+'</div>\n <input id="microLinkInput" type="text" value="https://www.w3schools.com/howto/img_paris.jpg" placeholder="https://www.w3schools.com/howto/img_paris.jpg">\n </label>\n <button id="microLinkButton" class="primary-button">'+a.link.import+"</button>\n </div>\n ",init:function(){(0,l.default)(e,"link")}},instagram:{icon:s.default.instagram,title:"Instagram",html:'\n <div class="center-middle">\n <label>\n <div>'+a.instagram.post_url+'</div>\n <input id="microLinkInput" type="text" value="https://www.instagram.com/p/BeV6tOhFUor" placeholder="https://www.instagram.com/p/BeV6tOhFUor">\n </label>\n <button id="microLinkButton" class="primary-button instagram">'+a.instagram.import+"</button>\n </div>\n ",init:function(){(0,l.default)(e,"instagram",!0)}}},c="",u=0;u<t.length;u++){var f=d[t[u]];f&&(c+='\n <li class="button_service button_service_'+t[u]+'"><button>'+(f.icon||"")+f.title+"</button></li>\n ")}return d.navbar={html:"\n <aside>\n <nav>\n <ul>\n "+c+'\n </ul>\n </nav>\n <a class="uppload-branding" href="https://github.com/elninotech/uppload" target="_blank" rel="noopener noreferrer">Get Uppload</a>\n </aside>\n '},d},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={uploading:"Uploading...",uploaded:"Uploaded",select_file:{drag_here:"Drag and drop here to upload",choose_file:"Choose a file",or:"or"},instagram:{post_url:"Instagram post URL",import:"Import from Instagram"},link:{post_url:"Link to file",import:"Import from URL"},preview:{back:"Back",continue:"Continue"},crop:{upload:"Crop &amp; upload"},camera:{click:"Click photo",permission:"Grant camera permission"},error:"Error",errors:{no_endpoint:"No endpoint or upload function found",no_file_selected:"You have not selected a file",file_type_not_allowed:"This file type is not allowed",file_too_large:"File should be smaller than _FILESIZE_",instagram_no_fetch:"Unable to fetch this image from Instagram",video_unavailable:"Video stream not available",camera_error:"Unable to access camera"}},e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(0),r=d(o),l=d(a(16)),s=d(a(15));d(a(7));function d(e){return e&&e.__esModule?e:{default:e}}var c=!1;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,"function"==typeof navigator.getMedia&&(c=!0);var u=function(){function e(t){var a=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.meta={uniqueId:Math.random().toString(36).slice(2),file:null},this.settings=t||{},this.i18n=this.settings.i18n||l.default,this.isOpen=!1,this.isUploading=!1,this.value=null,this.currentPage=this.settings.defaultService||"upload",this.settings.services=this.settings.services||["upload","camera","link","instagram"],!c){var n=this.settings.services.indexOf("camera");n>-1&&this.settings.services.splice(n,1)}this.settings.allowedTypes=this.settings.allowedTypes||"*",this.settings.crop=this.settings.crop||{},this.settings.maxFileSize=parseInt(this.settings.maxFileSize)||"infinite",this.isFileTypeAllowed=this.settings.isFileTypeAllowed||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.meta.file;if("object"===i(a.settings.allowedTypes)&&a.settings.allowedTypes.length>0){if(a.settings.allowedTypes.includes(e.type))return!0}else{if(a.settings.allowedTypes===e.type)return!0;if("*"===a.settings.allowedTypes)return!0;if(e.type.includes(a.settings.allowedTypes+"/"))return!0}return!1},this.isFileSizeAllowed=this.settings.isFileSizeAllowed||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.meta.file;return"infinite"===a.settings.maxFileSize||a.settings.maxFileSize>e.size},this.services=(0,s.default)(this),this.backgroundElement=document.createElement("div"),this.backgroundElement.classList.add("uppload-bg"),document.body.appendChild(this.backgroundElement),this.modalElement=document.createElement("div"),this.modalElement.classList.add("uppload-modal"),this.modalElement.setAttribute("id","uppload_"+this.meta.uniqueId),this.modalElement.innerHTML="\n<div>\n"+this.services.navbar.html+'\n<section>\n<div class="errorMessage"></div>\n<div class="currentPage"></div>\n</section>\n</div>\n',document.body.appendChild(this.modalElement);for(var o=document.querySelectorAll("#uppload_"+this.meta.uniqueId+" .button_service"),r=function(e){var t=o[e];t.addEventListener("click",function(){a.changePage(t.className.replace("button_service button_service_",""))})},d=0;d<o.length;d++)r(d);this.backgroundElement.addEventListener("click",this.closeModal.bind(this)),window.addEventListener("keyup",function(e){27!==e.keyCode&&27!==e.which&&"Escape"!==e.key&&"Escape"!==e.code||a.backgroundElement.click()}),this.settings.value&&this.updateValue(this.settings.value,1),this.settings.call=this.settings.call||["[data-uppload-button]"];for(d=0;d<this.settings.call.length;d++)for(var u=document.querySelectorAll(this.settings.call[d]),f=0;f<u.length;f++)u[f].addEventListener("click",this.openModal.bind(this))}return n(e,[{key:"showError",value:function(e){(0,r.default)("fileError",e);var t=document.querySelector("#uppload_"+this.meta.uniqueId+" .errorMessage");t.style.display="block",t.innerHTML="<strong>"+this.i18n.error+": </strong>"+e+".",setTimeout(function(){t.classList.add("visible")},1),setTimeout(function(){t.classList.remove("visible");t.addEventListener("transitionend",function e(){t.style.display="none",t.removeEventListener("transitionend",e)})},this.settings.errorDelay||3e3)}},{key:"on",value:function(e,t){(0,o.addGlobalEvent)(e,t,this)}},{key:"updateValue",value:function(e){for(var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.settings.bind||["[data-uppload-value]"],n=0;n<i.length;n++){var o=document.querySelector(i[n]);o&&("IMG"===o.tagName?o.setAttribute("src",e):o.setAttribute("value",e),o.classList.add("uppload-"+(0===a?"updated":"initialized")))}this.value=e,0===a&&setTimeout(function(){t.closeModal()},this.settings.successDelay||1500)}},{key:"openModal",value:function(){var e=this;!0!==this.isOpen&&(this.changePage(this.currentPage),this.isOpen=!0,(0,r.default)("modalOpened"),this.modalElement.classList.add("visible"),this.backgroundElement.classList.add("visible"),this.modalElement.classList.add("fadeIn"),this.backgroundElement.classList.add("fadeIn"),setTimeout(function(){e.modalElement.classList.remove("fadeIn"),e.backgroundElement.classList.remove("fadeIn")},399))}},{key:"closeModal",value:function(){var e=this;!1!==this.isOpen&&(this.isOpen=!1,(0,r.default)("modalClosed"),this.modalElement.classList.add("fadeOut"),this.backgroundElement.classList.add("fadeOut"),setTimeout(function(){e.modalElement.classList.remove("fadeOut"),e.modalElement.classList.remove("visible"),e.backgroundElement.classList.remove("fadeOut"),e.backgroundElement.classList.remove("visible")},399))}},{key:"changePage",value:function(e){if(this.services[e]){document.querySelector("#uppload_"+this.meta.uniqueId+" .currentPage").innerHTML=this.services[e].html,"function"==typeof this.services[e].init&&this.services[e].init(),(0,r.default)("pageChanged",e);for(var t=document.querySelectorAll("#uppload_"+this.meta.uniqueId+" .button_service"),a=0;a<t.length;a++)t[a].classList.remove("active");var i=document.querySelector("#uppload_"+this.meta.uniqueId+" .button_service_"+e);i&&i.classList.add("active");var n=document.querySelector("#uppload_"+this.meta.uniqueId+" aside");"uploading"===e||"uploaded"===e?n.classList.add("hidden"):n.classList.remove("hidden")}}}]),e}();window.Uppload=u,t.default=u,e.exports=t.default}])});